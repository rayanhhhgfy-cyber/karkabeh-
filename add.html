<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>إضافة منتج جديد</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<style>
/* CSS */
@import url('https://fonts.googleapis.com/css2?family=Almarai:wght@400;700&display=swap');

:root {
--primary-color: #007BFF;
--primary-light: #e6f2ff;
--secondary-color: #fff;
--bg-color: #f0f2f5;
--text-color: #333;
--text-muted: #666;
--red-color: #dc3545;
}

body {
font-family: 'Almarai', sans-serif;
margin: 0;
padding: 0;
background-color: var(--bg-color);
direction: rtl;
text-align: right;
padding-bottom: 70px;
}

.bottom-navbar {
position: fixed;
bottom: 0;
right: 0;
left: 0;
display: flex;
justify-content: space-around;
align-items: center;
height: 60px;
background-color: var(--secondary-color);
box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
z-index: 1000;
}

.nav-item {
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
text-decoration: none;
color: var(--text-muted);
font-size: 0.8rem;
transition: color 0.3s;
}

.nav-item i {
font-size: 1.2rem;
margin-bottom: 4px;
}

.nav-item.active, .nav-item:hover {
color: var(--primary-color);
}

.main-content {
padding: 20px;
}

.add-product-container {
background-color: var(--secondary-color);
padding: 25px;
border-radius: 12px;
box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
}

h2 {
text-align: center;
color: var(--text-color);
margin-bottom: 25px;
}

.form-group {
margin-bottom: 20px;
}

label {
display: block;
font-weight: bold;
color: var(--text-color);
margin-bottom: 8px;
}

input[type="text"],
input[type="number"],
textarea,
select {
width: 100%;
padding: 12px;
border: 1px solid var(--bg-color);
border-radius: 8px;
box-sizing: border-box;
font-size: 1rem;
transition: border-color 0.3s;
}

input[type="file"] {
display: none;
}

.upload-area {
border: 2px dashed var(--bg-color);
border-radius: 10px;
padding: 20px;
text-align: center;
cursor: pointer;
transition: border-color 0.3s;
}

.upload-area:hover {
border-color: var(--primary-color);
}

.image-preview {
display: flex;
flex-wrap: wrap;
gap: 10px;
margin-top: 15px;
}

.image-preview-item {
position: relative;
width: 80px;
height: 80px;
border-radius: 8px;
overflow: hidden;
}

.image-preview-item img {
width: 100%;
height: 100%;
object-fit: cover;
}

.remove-image {
position: absolute;
top: 5px;
right: 5px;
background-color: var(--red-color);
color: var(--secondary-color);
border-radius: 50%;
width: 20px;
height: 20px;
display: flex;
align-items: center;
justify-content: center;
font-size: 0.8rem;
cursor: pointer;
}

.publish-btn {
width: 100%;
padding: 15px;
background-color: var(--primary-color);
color: var(--secondary-color);
border: none;
border-radius: 50px;
font-size: 1.1rem;
font-weight: bold;
cursor: pointer;
transition: background-color 0.3s, transform 0.2s;
margin-top: 20px;
}

.publish-btn:hover {
background-color: #0056b3;
transform: translateY(-2px);
}
</style>
</head>
<body>

<div class="bottom-navbar">
<a href="index.html" class="nav-item">
<i class="fas fa-home"></i>
<span>الرئيسية</span>
</a>
<a href="cart.html" class="nav-item">
<i class="fas fa-shopping-cart"></i>
<span>السلة</span>
</a>
<a href="notes.html" class="nav-item">
<i class="fas fa-plus-circle"></i>
<span>ملاحظة</span>
</a>
<a href="account.html" class="nav-item">
<i class="fas fa-user"></i>
<span>الحساب</span>
</a>
</div>

<div class="main-content">
<div class="add-product-container">
<h2>إضافة منتج جديد</h2>
<form id="addProductForm">

<div class="form-group">
<label>صور المنتج (من 1 إلى 10 صور)</label>
<div class="upload-area" id="uploadArea">
<i class="fas fa-camera"></i>
<p>اضغط لتحميل الصور</p>
</div>
<input type="file" id="imageInput" multiple accept="image/*">
<div class="image-preview" id="imagePreview"></div>
</div>

<div class="form-group">
<label for="productName">اسم المنتج</label>
<input type="text" id="productName" required>
</div>

<div class="form-group">
<label for="productPrice">السعر (بالدينار الأردني JOD)</label>
<input type="number" id="productPrice" min="0" step="0.01" required>
</div>

<div class="form-group">
<label for="productDescription">وصف المنتج</label>
<textarea id="productDescription" rows="4" required></textarea>
</div>

<div class="form-group">
<label for="productCategory">تصنيف المنتج</label>
<select id="productCategory" required>
<option value="">اختر تصنيفاً</option>
<option value="electronics">إلكترونيات</option>
<option value="clothing">ملابس</option>
<option value="accessories">اكسسوارات</option>
</select>
</div>

<div class="form-group" id="sizes-container" style="display:none;">
<label>المقاسات المتاحة</label>
<div>
<input type="checkbox" id="sizeS" value="S"> <label for="sizeS">S</label>
<input type="checkbox" id="sizeM" value="M"> <label for="sizeM">M</label>
<input type="checkbox" id="sizeL" value="L"> <label for="sizeL">L</label>
<input type="checkbox" id="sizeXL" value="XL"> <label for="sizeXL">XL</label>
<input type="checkbox" id="sizeXXL" value="XXL"> <label for="sizeXXL">XXL</label>
</div>
</div>

<div class="form-group">
<label for="deliveryTime">مدة التوصيل <i class="fas fa-shipping-fast"></i></label>
<input type="text" id="deliveryTime" placeholder="مثال: 3-5 أيام عمل" required>
</div>

<button type="submit" class="publish-btn">نشر المنتج</button>
</form>
</div>
</div>

<script>
// JavaScript
document.addEventListener('DOMContentLoaded', () => {
const addProductForm = document.getElementById('addProductForm');
const imageInput = document.getElementById('imageInput');
const uploadArea = document.getElementById('uploadArea');
const imagePreview = document.getElementById('imagePreview');
const productCategory = document.getElementById('productCategory');
const sizesContainer = document.getElementById('sizes-container');

let uploadedImages = [];
const maxImages = 10;

// وظيفة لإظهار/إخفاء خيارات المقاسات
productCategory.addEventListener('change', () => {
if (productCategory.value === 'clothing') {
sizesContainer.style.display = 'block';
} else {
sizesContainer.style.display = 'none';
}
});

// وظيفة عرض الصور المرفوعة
uploadArea.addEventListener('click', () => {
imageInput.click();
});

imageInput.addEventListener('change', (event) => {
const files = event.target.files;
if (uploadedImages.length + files.length > maxImages) {
alert(`يمكنك تحميل 10 صور كحد أقصى.`);
return;
}

for (const file of files) {
if (file) {
const reader = new FileReader();
reader.onload = (e) => {
const imageItem = document.createElement('div');
imageItem.className = 'image-preview-item';
imageItem.innerHTML = `<img src="${e.target.result}" alt="Product Image"><span class="remove-image">&times;</span>`;
imagePreview.appendChild(imageItem);
uploadedImages.push(e.target.result);

imageItem.querySelector('.remove-image').addEventListener('click', () => {
imageItem.remove();
const index = uploadedImages.indexOf(e.target.result);
if (index > -1) {
uploadedImages.splice(index, 1);
}
});
};
reader.readAsDataURL(file);
}
}
});

// معالجة نشر المنتج
addProductForm.addEventListener('submit', (event) => {
event.preventDefault();

// جمع بيانات المنتج
const productName = document.getElementById('productName').value;
const productPrice = document.getElementById('productPrice').value;
const productDescription = document.getElementById('productDescription').value;
const productCategoryValue = productCategory.value;
const deliveryTime = document.getElementById('deliveryTime').value;

if (uploadedImages.length === 0) {
alert('الرجاء إرفاق صورة واحدة على الأقل للمنتج.');
return;
}

const newProduct = {
id: Date.now(), // ID فريد للمنتج
name: productName,
price: parseFloat(productPrice),
description: productDescription,
category: productCategoryValue,
images: uploadedImages,
deliveryTime: deliveryTime,
sales: Math.floor(Math.random() * 50) + 1, // عدد مبيعات عشوائي
rating: (Math.random() * (5 - 3) + 3).toFixed(1) // تقييم عشوائي
};

if (productCategoryValue === 'clothing') {
const selectedSizes = [];
document.querySelectorAll('#sizes-container input[type="checkbox"]:checked').forEach(checkbox => {
selectedSizes.push(checkbox.value);
});
newProduct.sizes = selectedSizes;
}

// حفظ المنتج في localStorage
let existingProducts = JSON.parse(localStorage.getItem('products')) || [];
existingProducts.push(newProduct);
localStorage.setItem('products', JSON.stringify(existingProducts));

alert('تم نشر المنتج بنجاح! سيتم تحويلك إلى الصفحة الرئيسية.');
window.location.href = 'reel.html';
});

});
</script>
</body>
</html>
	
